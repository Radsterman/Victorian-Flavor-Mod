namespace = journal_flavor_chile

journal_flavor_chile.1 = { #Colonization of Punta Arenas
	type = country_event
	placement = root

	title = journal_flavor_chile.1.t
	desc = journal_flavor_chile.1.d
	flavor = journal_flavor_chile.1.f

	event_image = {
		video = "gfx/event_pictures/africa_construction_colony.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/event_colonial.dds"

	duration = 3

	immediate = {
	    s:STATE_ARAUCANIA = {
            random_scope_state = {
                limit = {
                    owner = {
                        c:CHL = THIS
                    }
                }
                save_scope_as = araucania_state
            }
        }	
		c:CHL = {
			save_scope_as = chl_scope
		}
		s:STATE_ARAUCANIA = {
			set_owner_of_provinces = {
				country = c:CHL
				provinces = { x029AC8 x5A7430 }
			}
		}		
	}

	option = {
		default_option = yes
		name = journal_flavor_chile.1.a
        scope:araucania_state = {
            add_modifier = {
			    name = puq_penal_colony 
			    years = 20
		    }
	    }
    }
}   

journal_flavor_chile.2  = { rapanui!!
	type = country_event
	placement = ROOT

	title = journal_flavor_chile.2.t
	desc = journal_flavor_chile.2.d
	flavor = journal_flavor_chile.2.f

	duration = 3

	immediate = {
		c:CHL = {
			save_scope_as = chl_scope
		}
		c:RPN = {
			save_scope_as = rpn_scope
		}		
	}

	event_image = {
		video = "gfx/event_pictures/votp_garibaldi.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/africa/construction_colony"

	icon = "gfx/interface/icons/event_icons/event_colonial.dds"

	duration = 3

	option = {
		default_option = yes
		name = journal_flavor_chile.2.a

		c:CHL = {
			add_treasury = -2000
		}

		create_diplomatic_pact = {
			country = c:RPN
			type = protectorate
		}	
    }	
}

journal_flavor_chile.4 = { #ohiggins return
	type = country_event
	placement = ROOT

	title = journal_flavor_chile.4.t
	desc = journal_flavor_chile.4.d
	flavor = journal_flavor_chile.4.f

	duration = 1

	immediate = {
		c:CHL = {
			save_scope_as = chl_scope
		}
		c:CHL = {
			random_scope_character = {
				limit = {
					has_variable = is_ohiggins
				}
				save_scope_as = ohiggins_scope
		    }
		}				
	}

	event_image = {
		video = "gfx/event_pictures/unspecific_military_parade.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/military_parade"

	icon = "gfx/interface/icons/event_icons/bicorne_hat.dds"

	option = {
		default_option = yes
		name = journal_flavor_chile.4.a

			add_loyalists = {
				value = 0.15
		}		
	}
}	

journal_flavor_chile.5 = {
	type = country_event
	placement = ROOT

	title = journal_flavor_chile.5.t
	desc = journal_flavor_chile.5.d
	flavor = journal_flavor_chile.5.f

	duration = 1

	immediate = {
		c:CHL = {
			random_scope_character = {
				limit = {
					has_variable = is_portales
				}
				save_scope_as = portales_scope
		    }
		}	
	}

	event_image = {
		video = "gfx/event_pictures/unspecific_ruler_speaking_to_people.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/ruler_speaking_to_people"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds" 

	option = {
		default_option = yes
		name = journal_flavor_chile.5.a		
	        }
        }

journal_flavor_chile.6 = { #joven daniel shiprwreck
	type = country_event
	placement = ROOT

	title = journal_flavor_chile.6.t
	desc = journal_flavor_chile.6.d
	flavor = journal_flavor_chile.6.f

	duration = 3

	event_image = {
		texture = "gfx/state_pictures/ocean.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/devastation"

	icon = "gfx/interface/icons/event_icons/event_skull.dds" 

	immediate = {
	    s:STATE_LOS_RIOS = {
            random_scope_state = {
                limit = {
                    owner = {
                        c:CHL = THIS
                    }
                }
                save_scope_as = concepcion_state
            }
        }
    }    

	trigger = {
	    any_scope_state = {
		    any_neighbouring_state = {
		 	    owner = {
		 		    is_country_type = decentralized
		 		    country_has_primary_culture = cu:patagonian
		 	    }
		    }
	    }
	    exists = c:CHL
		root= c:CHL
		NOT = {
			has_variable = joven_daniel
		}		
    }

	option = {
		default_option = yes
		name = journal_flavor_chile.6.a	

            scope:concepcion_state = {
            add_modifier = {
                name = anti_mapuche
			    months = normal_modifier_time
		        }	
	        }
	        hidden_effect = {
	            set_variable = joven_daniel
	        }    
        }
    }      

journal_flavor_chile.7  = {
	type = country_event
	placement = ROOT

	title = journal_flavor_chile.7.t
	desc = journal_flavor_chile.7.d
	flavor = journal_flavor_chile.7.f

	duration = 1

	event_image = {
		video = "gfx/event_pictures/votp_gunboat_diplomacy.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/DLC/1.3_ip1/Events/unspecific/gunboat_diplomacy"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	immediate = {
		c:CHL = {
			save_scope_as = chl_scope
		}
		c:BOL = {
			save_scope_as = bol_scope
		}		
	}			

	option = {
		name = journal_flavor_chile.7.a
		default_option = yes

    random_diplomatic_play = {
        limit = {
            target = c:BOL
        }
        save_temporary_scope_as = diplo_play
    }   

    scope:diplo_play = {
        add_initiator_backers = {
            c:CHL
        }
		add_war_goal = {
			holder = c:CHL
			type = humiliation
			target_country = scope:bol_scope
		}        
    }

        ai_chance = {
			base = 90
			}    
        }

	option = {
		name = journal_flavor_chile.7.b
		    
		change_relations = {
			country = c:BOL
			value = 20
			}
        ai_chance = {
			base = 10
			}
		}		
	}
